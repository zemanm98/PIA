<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
  <title id="title">Register new user</title>
  <style>
        .error {
        color: red;
        }
    </style>
</head>
<body>
<select id="language-select">
  <option value="en">English</option>
  <option value="cz">Česky</option>
</select>
<form class="form-signin" role="form" th:action="@{/register/save}" method="post" th:object="${registerForm}">
  <h2 id="register" class="form-signin-heading">Register new user</h2>
  <p id="example">Example: name / email / password</p>
  <p id="emailError" th:if="${emailError != null}" class="error">Wrong email pattern</p>
  <p id="userError" th:if="${userError != null}" class="error">Something went wrong, try again</p>
  <p id="userExist" th:if="${userExists != null}" class="error">this email is already registered</p>
  <p>
    <label id="usernameLabel" for="username" class="sr-only">Name</label>
    <input type="text" id="username" name="username" class="form-control"
           placeholder="" required autofocus th:field="*{name}"/>
  </p>
  <p>
    <label id="emailLabel" for="email" class="sr-only">Email</label>
    <input type="text" id="email" name="email" class="form-control"
           placeholder="" required autofocus th:field="*{email}"/>
  </p>
  <p>
    <label id="passwordLabel" for="password" class="sr-only">Password</label>
    <input type="password" id="password" name="password" class="form-control"
           placeholder="" required autofocus th:field="*{password}"/>
  </p>
  <button id="registerButton" class="btn btn-lg btn-primary btn-block" type="submit">Register</button><br/>
  <p><a id="homePage" href="/" th:href="@{/}">Back to home page</a></p>
</form>
<br>
<a id="signInButton" th:href="@{/loginNormal}">Log in</a>
<br>
<a id="viaAuth" th:href="@{/oauth2/authorization/okta}">Log Vie 0Auth2</a>

<script>
    var login = document.getElementById('login');
        var title = document.getElementById('title');
        var emailError = document.getElementById('emailError');
        var userError = document.getElementById('userError');
        var userExist = document.getElementById('userExist');
        var emailLabel = document.getElementById('emailLabel');
        var passwordLabel = document.getElementById('passwordLabel');
        var signInButton = document.getElementById('signInButton');
        var usernameLabel = document.getElementById('usernameLabel');
        var registerButton = document.getElementById('registerButton');
        var homePage = document.getElementById('homePage');
        var register = document.getElementById('register');
        var viaAuth = document.getElementById('viaAuth');
        var example = document.getElementById('example');

        const languageSelect = document.getElementById('language-select');
        languageSelect.addEventListener('change', function() {
          if (languageSelect.value === 'cz') {
            title.textContent = 'Zaregistrujte nového uživatele';
            if(emailError != null){
              emailError.textContent = 'Chybný tvar email adresy';
            }
            if(userExist != null){
              userExist.textContent = 'Tento email je již zaregistrovaný';
            }
            if(userError != null){
              userError.textContent = 'Něco se pokazilo, zkuste to znovu';
            }
            emailLabel.textContent = 'Email';
            passwordLabel.textContent = 'Heslo';
            signInButton.textContent = 'Přihlásit se';
            homePage.textContent = 'Domovská stránka';
            register.textContent = 'Zaregistrovat se';
            viaAuth.textContent = 'Přihlášení přes Auth0';
            example.textContent = 'Příklad: jméno / email / heslo';
            usernameLabel.textContent = 'Jméno';
            registerButton.textContent = 'Zaregistrovat se';
          } else if (languageSelect.value === 'en') {
            title.textContent = 'Register new user';
            if(emailError != null){
              emailError.textContent = 'Wrong email pattern';
            }
            if(userExist != null){
              userExist.textContent = 'this email is already registered';
            }
            if(userError != null){
              userError.textContent = 'Something went wrong, try again';
            }
            emailLabel.textContent = 'Email';
            passwordLabel.textContent = 'Password';
            signInButton.textContent = 'Log in';
            homePage.textContent = 'Back to home page';
            register.textContent = 'Register New User';
            viaAuth.textContent = 'Log Vie 0Auth2';
            example.textContent = 'Example: name / email / password';
            usernameLabel.textContent = 'Name';
            registerButton.textContent = 'Register';
          }
        });
</script>
</body>
</html>