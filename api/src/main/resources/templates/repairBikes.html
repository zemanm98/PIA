<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <link rel="stylesheet" th:href="@{/App.css}">
</head>
<body layout:fragment="content">

<a th:href="@{/}">Back</a>
<p th:if="${error != null}" class="error">Cant repair this bike</p>
<table class="tb">
  <thead>
  <tr>
    <th> ID </th>
    <th> Last Service Date </th>
    <th> Stand </th>
    <th> Repair </th>
  </tr>
  </thead>
  <tbody>
  <tr th:if="${bikes.empty}">
    <td colspan="2"> No Bikes at this Stand </td>
  </tr>
  <tr th:each="bike : ${bikes}">
    <td><span th:text="${bike.id}"> ID </span></td>
    <td><span th:text="${bike.lastServiceStamp}"> Last Service Date </span></td>
    <td><span th:text="${bike.stand.name}">Stand Name</span></td>
    <td><form method="POST" th:action="@{/repair/{bikeId}(bikeId=${bike.id})}">
      <button type="submit" name="submit" value="value" class="link-button">Repair This Bike</button>
    </form> </td>
  </tr>
  </tbody>
</table>

</body>
</html>